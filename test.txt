kubectl apply -f inside-networkpolicy.yaml,mariadb-pod.yaml,mariadb-service.yaml,nginx-claim0-persistentvolumeclaim.yaml,nginx-claim1-persistentvolumeclaim.yaml,nginx-pod.yaml,nginx-service.yaml,outside-networkpolicy.yaml,php-claim0-persistentvolumeclaim.yaml,php-pod.yaml,php-service.yaml,phpmyadmin-pod.yaml,phpmyadmin-service.yaml

kubectl apply -f nginx-claim0-persistentvolumeclaim.yaml,nginx-claim1-persistentvolumeclaim.yaml,nginx-pod.yaml,nginx-service.yaml

kubectl apply -f env-configmap.yaml,inside-networkpolicy.yaml,mariadb-deployment.yaml,mariadb-service.yaml,nginx-claim0-persistentvolumeclaim.yaml,nginx-claim1-persistentvolumeclaim.yaml,nginx-deployment.yaml,outside-networkpolicy.yaml,php-claim0-persistentvolumeclaim.yaml,php-deployment.yaml,php-service.yaml,phpmyadmin-deployment.yaml,phpmyadmin-service.yaml


kubectl apply -f .


minikube ssh
sudo passwd docker 
exit
scp -r ./code docker@$(minikube ip):/home/docker/
scp -r ./nginx docker@$(minikube ip):/home/docker/

kubectl get service
kubectl get pods --all-namespaces
kubectl get nodes
kubectl get deployments

kubectl expose deployment nginx --type=NodePort --port=8080
kubectl expose deployment php --type=NodePort --port=9000
kubectl expose deployment phpmyadmin --type=NodePort --port=8183

minikube service nginx --url


kubectl exec -it --namespace default nginx sh

apiVersion: networking.k8s.io/v1
volumeMounts:
          - name: nginx-claim0
              mountPath: /code
          - name: nginx-claim1
              mountPath: /etc/nginx/conf.d/default.conf
        volumes:
            - name: nginx-claim0
            hostPath:
                path: /home/docker/code
            - name: nginx-claim1
              hostPath:
                  path: /home/docker/nginx/default.conf


kubectl delete all --all